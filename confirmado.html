<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Compra Confirmada | Views</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="confirmation-hero">

  <!-- Logo -->
  <img src="images/logo.png" alt="Logo Views" class="logo">

  <!-- Mensaje de confirmaci√≥n -->
  <h1 class="confirmation-title">‚úÖ ¬°Compra Confirmada!</h1>
  <p class="confirmation-text">
    Gracias por comprar tu ticket para <strong>Views</strong>.<br>
    Tu pago fue procesado correctamente y tu espacio en el evento est√° reservado.
  </p>
  <p class="confirmation-text">
    üì© Hemos enviado un comprobante a tu correo electr√≥nico.<br>
    Nos vemos pronto üöÄ
  </p>

  <!-- QR din√°mico -->
  <div class="qr-section" id="qrContainer" style="display:none;">
    <h3>Escanea tu c√≥digo QR para ingresar al evento</h3>
    <div id="qrCode"></div>
    <button id="downloadQR" class="download-button">üì• Descargar QR</button>
  </div>

  <!-- Bot√≥n para volver a la landing -->
  <a href="index.html">
    <button class="back-button">Volver a la p√°gina principal</button>
  </a>

</div>

<!-- Footer -->
<footer class="footer">
  <p>¬© 2026 Views. Todos los derechos reservados.</p>
</footer>

<!-- Librer√≠a QRCode.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script>
  // Obtener ticket √∫nico de la URL
  const params = new URLSearchParams(window.location.search);
  const ticketID = params.get("ticket"); // Ej: confirmacion.html?ticket=ABC123

  if(ticketID){
    const qrContainer = document.getElementById("qrContainer");
    qrContainer.style.display = "block";

    const ticketURL = `https://tu-sitio.com/tickets/${ticketID}`;

    // Generar QR
    const qr = new QRCode(document.getElementById("qrCode"), {
      text: ticketURL,
      width: 220,
      height: 220,
      colorDark : "#0e0e0e",
      colorLight : "#ffffff",
      correctLevel : QRCode.CorrectLevel.H
    });

    // Descargar QR
    document.getElementById("downloadQR").addEventListener("click", function(){
      const qrCanvas = document.querySelector("#qrCode canvas");
      if(!qrCanvas) return;
      const link = document.createElement("a");
      link.href = qrCanvas.toDataURL("image/png");
      link.download = `ticket-${ticketID}.png`;
      link.click();
    });
  } else {
    document.getElementById("qrContainer").innerHTML = "<p style='color:#ff6a00;'>‚ö†Ô∏è No se pudo generar el QR. Pago no confirmado.</p>";
  }
</script>

</body>
</html>
